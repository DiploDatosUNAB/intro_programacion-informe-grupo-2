---
title: "Presentes"
author: "Alberto Fernandez y Clara Bonpland Mignaquy"
output: html_document
---
Hola Albe
Hola Clari decime que funciona

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(presentes)
library(dplyr)
```

## Introducción

El presente informe consiste en el análisis de los datos del paquete "presentes", el cual reúne la información oficial sobre víctimas de la dictadura militar entre el 24 de marzo de 1976 y el 10 de diciembre de 1983 en Argentina, como también de años previos al inicio formal del gope de estado militar. 

Las fuentes principales de los datos del paquete provienen del Registro Único de Víctimas del Terrorismo de Estado (RUVTE),dependiente de la Secretaría de Derechos Humanos y Pluralismo Cultural del Ministerio de Justicia y Derechos Humanos de la Nación y del Monumento a las Víctimas del Terrorismo de Estado, realizado por el Consejo de Gestión del Parque de la Memoria y del Monumento a las Víctimas del Terrorismo de Estado, creado por la ley 3078 de la Ciudad de Buenos Aires.

En el informe haremos hincapié en observar las variables que contienen la edad de las víctimas, cuáles fueron las ciudades y en qué años sucedieron los secuestros y asesinatos, las ocupaciones y espacios de militancia.

No queremos dejar de mencionar que, más allá de que los datos recabados indican un número de 8753 victimas, existe un gran número de victimas desaparecidas que aún no han podido ser identificadxs.


## Exploración de los datos

```{r}
victimas_parque <- presentes::parque_de_la_memoria
victimas_apodo <- presentes::apodos
victimas_denuncia <- presentes::victimas_accionar_represivo_ilegal
victimas_sin_denuncia <- presentes::victimas_accionar_represivo_ilegal_sin_denuncia_formal
centros_clandestinos <- presentes::centros_clandestinos_detencion

```

Selección de variables del dataframe victimas_parque:
```{r}
victimas_parque <- select(parque_de_la_memoria, id, edad, fecha_de_secuestro, ano_en_monumento, lugar_de_secuestro, ocupaciones, sexo, militancia)
```

Exploramos las especificaciones del dataframe
```{r}
victimas_parque %>% 
  glimpse()
```

Exploración datos de victimas_parque

Exploración sexo de las víctimas
```{r}
victimas_parque %>% 
  group_by(sexo) %>% 
  summarise(cantidad_sexo = n()) %>% 
  arrange(desc(cantidad_sexo)) %>% 
  rename("Víctimas" = cantidad_sexo, "Sexo" = sexo)
```

Exploración edad de las victimas
```{r}
victimas_parque %>% 
  group_by(edad, sexo) %>% 
  summarise(cantidad = n()) %>% 
  arrange(desc(cantidad)) %>% 
  rename("Edad" = edad, "Sexo" = sexo, "Víctimas" = cantidad)
```

ESTO LO SACARÍA DIRECTAMENTE

Quizás podemos mencionarlo como datos raros...
Esto no da bien los calculos, de hecho toma como edad max el 9, es raro... será porque está escrito como caracter y no como numerico?
```{r}
victimas_parque %>%
  filter(as.numeric(edad)) %>% 
  summarise(edad_max = max(edad, na.rm = TRUE), edad_min = min(edad, na.rm = TRUE), edad_media = mean(edad, na.rm = TRUE), edad_sd = sd(edad, na.rm = TRUE))
```


Exploración edad y ocupaciones de las victimas
```{r}
victimas_parque %>%
  filter(!is.na(ocupaciones)) %>% 
  group_by(edad, ocupaciones) %>% 
  summarise(cantidad = n()) %>% 
  arrange(desc(cantidad))%>% 
  rename("Edad" = edad, "Ocupaciones" = ocupaciones, "Víctimas" = cantidad )
```

ACÁ SI QUEREMOS PODEMOS SACAR LOS DATOS FALTANTES(NA)

Exploración por ocupación y sexo, filtrando por cantidad de víctimas con x ocupacion mayor a 50, se puede filtrar para que no aparezca el na
```{r}
victimas_parque %>% 
  group_by(ocupaciones,sexo) %>% 
  summarise(cant_ocupaciones = n()) %>% 
  arrange(desc(cant_ocupaciones)) %>% 
  filter(cant_ocupaciones > 50) %>% 
  rename("Ocupaciones" = ocupaciones, "Sexo" = sexo, "Víctimas" = cant_ocupaciones)
```
Exploro por año

```{r}
victimas_parque %>% 
  group_by(ano_en_monumento) %>% 
  mutate(anio = as.numeric(ano_en_monumento)) %>% 
  group_by(anio) %>% 
  summarise(victimas_por_anio = n()) %>% 
  arrange(desc(victimas_por_anio)) %>% 
  rename("Año de secuestro/asesinato" = anio, "Víctimas" = victimas_por_anio)
```

Victimas por edad y año de secuestro

```{r}
victimas_parque %>% 
  group_by(ano_en_monumento) %>% 
  mutate(anio = as.numeric(ano_en_monumento)) %>% 
  group_by(edad, anio) %>% 
  summarise(victimas_por_anio = n()) %>% 
  arrange(desc(victimas_por_anio)) %>% 
  rename("Edad" = edad, "Año de secuestro/asesinato" = anio, "Víctimas" = victimas_por_anio )
```
Exploración victimas por edad, año de secuestro y ocupacion
```{r}
victimas_parque %>% 
  group_by(ano_en_monumento) %>% 
  mutate(anio = as.numeric(ano_en_monumento)) %>% 
  group_by(edad, anio, ocupaciones) %>% 
  filter(!is.na(ocupaciones)) %>% 
  summarise(victimas_por_anio = n()) %>% 
  arrange(desc(victimas_por_anio)) %>% 
  rename("Edad" = edad, "Año de secuestro/asesinato" = anio, "Ocupaciones" = ocupaciones, "Víctimas" = victimas_por_anio)
```

```{r}
victimas_parque %>%
  filter(edad %in% c(19, 20, 21, 22, 23, 24, 25, 26, 27)) %>% 
  group_by(edad) %>% 
  summarise(cant_vict_edad = n()) %>% 
  rename("Edad" = edad, "Víctimas" = cant_vict_edad)
  
```
ESTO ES LO MISMO DE ARRIBA ORDENADO POR CANTIDAD DE MAYO A MENOR
```{r}
victimas_parque %>%
  filter(edad %in% c(19, 20, 21, 22, 23, 24, 25, 26, 27)) %>% 
  group_by(edad) %>% 
  summarise(cant_vict_edad = n()) %>% 
  arrange(desc(cant_vict_edad)) %>% 
  rename("Edad" = edad, "Víctimas" = cant_vict_edad)
```

```{r}
victimas_parque %>% 
  filter(militancia != "list(listado = character(0))") %>% 
  group_by(as.character(militancia), ano_en_monumento) %>% 
  summarise(cant_por_militancia = n()) %>% 
  arrange(desc(cant_por_militancia)) 
```
```{r}
victimas_parque %>% 
  filter(militancia != "list(listado = character(0))") %>% 
  group_by(as.character(militancia)) %>% 
  summarise(cant_por_militancia = n()) %>% 
  arrange(desc(cant_por_militancia))
```
```{r}
victimas_parque %>% 
  filter(militancia != "list(listado = character(0))") %>% 
  group_by(as.character(militancia), ocupaciones) %>% 
  summarise(cant_por_militancia = n()) %>% 
  arrange(desc(cant_por_militancia))
```


```{r}
victimas_parque %>% 
  filter(!is.na(lugar_de_secuestro)) %>% 
  group_by(lugar_de_secuestro, ocupaciones) %>%
  filter(lugar_de_secuestro == "MAR DEL PLATA. BS. AS.") %>% 
  summarise(cantidad_lugar = n()) %>% 
  arrange(desc(cantidad_lugar)) 
```
```{r}
victimas_parque %>% 
  filter(!is.na(lugar_de_secuestro)) %>% 
  group_by(lugar_de_secuestro, as.character(militancia)) %>%
  filter(lugar_de_secuestro == "MAR DEL PLATA. BS. AS.") %>% 
  summarise(cantidad_lugar = n()) %>% 
  arrange(desc(cantidad_lugar)) 
```


----

Exploración de datos de dataframe victimas_accionar_represeivo_ilegal
```{r}
victimas_denuncia <- select(victimas_accionar_represivo_ilegal, id_unico_ruvte, edad_al_momento_del_hecho_numerico, fecha_detencion_secuestro, lugar_detencion_secuestro,provincia_nacimiento, tipificacion_ruvte)
```

```{r}
str(victimas_denuncia)
```
Exploración por edad
```{r}
victimas_denuncia %>% 
  group_by(edad_al_momento_del_hecho_numerico) %>% 
  summarise(cantidad = n()) %>% 
  arrange(desc(cantidad))
```
Exploración; promedio, valor máximo, valor mínimo y desvío estándar
```{r}
victimas_denuncia %>% 
  summarise(edad_max = max(edad_al_momento_del_hecho_numerico, na.rm = TRUE), edad_min = min(edad_al_momento_del_hecho_numerico, na.rm = TRUE), edad_media = mean(edad_al_momento_del_hecho_numerico, na.rm = TRUE), edad_sd = sd(edad_al_momento_del_hecho_numerico, na.rm = TRUE))
```
Exploración cantidad de nacidos en cautiverio (son el 0)
```{r}
victimas_denuncia %>% 
  filter(edad_al_momento_del_hecho_numerico == 0) %>% 
  summarise(cantidad_nacidos_cautiverio = n())
```


Exploro lugar de secuestro, dejando de lado los datos faltantes(na)
```{r}
victimas_denuncia %>% 
  filter(!is.na(lugar_detencion_secuestro)) %>% 
  group_by(lugar_detencion_secuestro) %>% 
  summarise(cantidad_lugar = n()) %>% 
  arrange(desc(cantidad_lugar)) 
```
Exploro los lugares de secuestro de más de 100 victimas, dejando de lado los na
```{r}
victimas_denuncia %>% 
  filter(!is.na(lugar_detencion_secuestro)) %>% 
  group_by(lugar_detencion_secuestro, ) %>% 
  summarise(cantidad_lugar = n()) %>% 
  filter(cantidad_lugar > 100) %>% 
  arrange(desc(cantidad_lugar)) 
```

Cuento la cantidad de victimas cuyo lugar de detención no está determinado
```{r}
victimas_denuncia %>% 
  summarise(cantidad_nas_lugar_secuestro = sum(is.na(lugar_detencion_secuestro)))
```
exploro la fecha de secuestro, PREGUNTAR A ELIO COMO TOMO UN AÑO SI LA FECHA ESTA EN DD/MM/AAA
```{r}
victimas_denuncia %>% 
  group_by(fecha_detencion_secuestro, lugar_detencion_secuestro) %>% 
  summarise(cantidad_fecha = n()) %>% 
  arrange(desc(cantidad_fecha))
  
```

Exploración Centros clandestinos
```{r}
str(centros_clandestinos)
```
```{r}
centros_clandestinos %>%
  group_by(lugar_emplazamiento_propiedad) %>% 
  summarise(distrib_propiedad = n()) %>% 
  arrange(desc(distrib_propiedad))
```
Exploro por ubicación del centro clandestino. LE TENGO QUE PREGUNTAR A ELIO COMO FILTRAR POR PALABRA CLAVE, PARA QUE TOME LA PROVINCIA O CIUDAD
```{r}
centros_clandestinos %>% 
    group_by(ubicacion)
```

Exploro por tipificacion
```{r}
victimas_denuncia %>% 
  group_by(tipificacion_ruvte) %>% 
  summarise(tipos = n()) %>% 
  arrange(desc(tipos))
```
```{r}
victimas_denuncia %>% 
  filter(tipificacion_ruvte)
```


```{r}

```




## Hipótesis

Finalmente, esta sección contiene **al menos 3** hipótesis o preguntas que puedan ser respondidas a partir de los datos.
Éstas tienen que ser más o menos interesantes y no cosas que se hayan respondido con la exploración anterior.

Traten de que sean hipótesis o preguntas que relacionen 2 o más variables.
Por ejemplo, "¿Cuál es el mes con más turistas en una región?" no es una pregunta intersante, pero "Existe una relación entre la cantidad de visitas y la cantidad de hoteles en una región" es una hipótesis más jugosa que apunta a la relación entre varias variables y a un fenómeno subyacente que puede tener implicancia y aplicaciones.

**No tienen que responder** estas preguntas en esta entrega.



